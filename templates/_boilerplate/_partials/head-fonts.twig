{#
 # head-fonts
 #
 # The preload block will preload any fonts that we choose to preload.
 #
 # The style block automatically generates efficient css for our site fonts based on the
 # variables in the _partials/site-fonts file.
 #
 #}

{% extends "_partials/site-fonts" %}

{% block preload %}
    {% for family in fonts %}
        {% for font in family %}
            {% if font.preload %}
                <link rel="preload" as="font" href="{{ font.src.woff2 }}" crossorigin="anonymous">
            {% endif %}
        {% endfor %}
    {% endfor %}
{% endblock preload %}

{% block style %}
    {% minify css %}
        <style>
            {% for name, family in fonts %}
                {% for font in family %}
                    @font-face {
                        font-family: '{{ name }}';
                        src:
                            local('{{ font.local }}'),
                        {% for format, url in font.src %}
                            url({{ url }}) format('{{ format }}'){{ loop.last ? ';' : ',' }}
                        {% endfor %}
                        font-style: {{ font.style }};
                        font-weight: {{ font.weight }};
                        font-displat: swap;
                        unicode-range: U+000-5FF;
                    }
                {% endfor %}
            {% endfor %}
        </style>
    {% endminify %}
{% endblock style %}
