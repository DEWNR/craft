// From https://web.dev/browser-level-image-lazy-loading/#how-do-i-handle-browsers-that-don't-yet-support-lazy-loading
if ('loading' in HTMLImageElement.prototype) {
  // Replace the img.src with what is in the data-src property
  var images = document.querySelectorAll('img[loading="lazy"]');

  for (var i = 0; i < images.length; i++) {
    var img = images[i];
    img.src = img.dataset.src;
  } // Replace the source.srcset with what is in the data-srcset property


  var sources = document.querySelectorAll('source[data-srcset]');

  for (var _i = 0; _i < sources.length; _i++) {
    var source = sources[_i];
    source.srcset = source.dataset.srcset;
  }
} else {
  // Dynamically import the LazySizes libraray
  var script = document.createElement('script');
  script.src = 'https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js';
  document.body.appendChild(script);
}
